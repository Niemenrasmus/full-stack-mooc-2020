{"ast":null,"code":"var _jsxFileName = \"/home/rasmusniemi/full-stack-mooc-2020/part5/src/components/Blog.js\";\nimport React from 'react';\n\nconst Blog = _ref => {\n  let {\n    blog,\n    likeBlog,\n    deleteBlog,\n    user\n  } = _ref;\n\n  const handleLike = async () => {\n    const {\n      id,\n      author,\n      url,\n      title\n    } = blog;\n    const updatedBlog = {\n      author: author,\n      likes: blog.likes + 1,\n      title: title,\n      url: url,\n      user: user.id\n    };\n    console.log(id, updatedBlog);\n    await likeBlog(id, updatedBlog);\n  };\n\n  const handleDelete = () => {\n    const id = blog.id;\n    console.log(id);\n    deleteBlog(id);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 3\n    }\n  }, blog.title, \" \", blog.author, \" \", blog.url, \" \", blog.likes, \" \", /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleLike,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 56\n    }\n  }, \"Like\"), \" \", /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleDelete,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 99\n    }\n  }, \"Delete\"));\n}; // const Blog = ({blog, notificationCallback, setBlogs, blogs}) => {\n//   const handleLike = async () => {\n//     // try {\n//       const updatedContents = { author : blog.author, url : blog.url, user : blog.user.id, likes : blog.likes + 1 }\n//       const response = await blogService.updateBlog({id : blog.id, updatedContents})\n//       let blogList = blogs.map(b => b.id !== updatedContents.id ? b : updatedContents);\n//       setBlogs(blogList);\n//       if (response.error) {\n//         notificationCallback\n//         (\"response-error \" + response.error)\n//         setTimeout(() => {\n//           notificationCallback(null)\n//         }, 5000)\n//       } else {\n//         notificationCallback(`Liked ${blog.title} by ${blog.author}!` )\n//         setTimeout(() => {\n//           notificationCallback(null)\n//         }, 5000)\n//       }\n//     // } catch (exception) {\n//     //   notificationCallback(\"expetion: \" + exception.message )\n//     //   setTimeout(() => {\n//     //     notificationCallback(null)\n//     //   }, 5000)\n//     // }\n//     // window.location.reload();\n//   }\n//   const deleteBlog = async () => {\n//     if (window.confirm(`Remove blog ${blog.title} by ${blog.author}?`)) {\n//       const response = await blogService.deleteBlog({ id : blog.id })\n//       if (response.error) {\n//         notificationCallback(\"response-error \" + response.error)\n//       } else {\n//         notificationCallback(`Deleted ${blog.title}`)\n//       }\n//     }\n//   }\n//   return (\n//   <div>\n//     {blog.title} {blog.author} {blog.url} {blog.likes} <button onClick={handleLike}>Like</button> <button onClick={deleteBlog}>Delete</button>\n//   </div>  \n//   )\n// }\n\n\nexport default Blog;","map":{"version":3,"sources":["/home/rasmusniemi/full-stack-mooc-2020/part5/src/components/Blog.js"],"names":["React","Blog","blog","likeBlog","deleteBlog","user","handleLike","id","author","url","title","updatedBlog","likes","console","log","handleDelete"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAGA,MAAMC,IAAI,GAAG,QAA0C;AAAA,MAAzC;AAAEC,IAAAA,IAAF;AAAQC,IAAAA,QAAR;AAAkBC,IAAAA,UAAlB;AAA8BC,IAAAA;AAA9B,GAAyC;;AAErD,QAAMC,UAAU,GAAG,YAAY;AAC7B,UAAM;AAAEC,MAAAA,EAAF;AAAMC,MAAAA,MAAN;AAAcC,MAAAA,GAAd;AAAmBC,MAAAA;AAAnB,QAA6BR,IAAnC;AACA,UAAMS,WAAW,GAAG;AAClBH,MAAAA,MAAM,EAAEA,MADU;AAElBI,MAAAA,KAAK,EAAEV,IAAI,CAACU,KAAL,GAAa,CAFF;AAGlBF,MAAAA,KAAK,EAAEA,KAHW;AAIlBD,MAAAA,GAAG,EAAEA,GAJa;AAKlBJ,MAAAA,IAAI,EAAEA,IAAI,CAACE;AALO,KAApB;AAOAM,IAAAA,OAAO,CAACC,GAAR,CAAYP,EAAZ,EAAgBI,WAAhB;AACA,UAAMR,QAAQ,CAACI,EAAD,EAAKI,WAAL,CAAd;AACD,GAXD;;AAaA,QAAMI,YAAY,GAAG,MAAM;AACzB,UAAMR,EAAE,GAAGL,IAAI,CAACK,EAAhB;AACAM,IAAAA,OAAO,CAACC,GAAR,CAAYP,EAAZ;AACAH,IAAAA,UAAU,CAACG,EAAD,CAAV;AACD,GAJD;;AAMA,sBACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGL,IAAI,CAACQ,KADR,OACgBR,IAAI,CAACM,MADrB,OAC8BN,IAAI,CAACO,GADnC,OACyCP,IAAI,CAACU,KAD9C,oBACqD;AAAQ,IAAA,OAAO,EAAEN,UAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADrD,oBACgG;AAAQ,IAAA,OAAO,EAAES,YAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADhG,CADA;AAKD,CA1BD,C,CA+BA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAEA,eAAed,IAAf","sourcesContent":["import React from 'react'\n\n\nconst Blog = ({ blog, likeBlog, deleteBlog, user }) => {\n\n  const handleLike = async () => {\n    const { id, author, url, title } = blog\n    const updatedBlog = {\n      author: author,\n      likes: blog.likes + 1,\n      title: title,\n      url: url,\n      user: user.id\n    }\n    console.log(id ,updatedBlog)\n    await likeBlog(id, updatedBlog)\n  }\n\n  const handleDelete = () => {\n    const id = blog.id\n    console.log(id)\n    deleteBlog(id)\n  }\n\n  return (\n  <div>\n    {blog.title} {blog.author} {blog.url} {blog.likes} <button onClick={handleLike}>Like</button> <button onClick={handleDelete}>Delete</button>\n  </div>  \n  )\n}\n\n    \n\n\n// const Blog = ({blog, notificationCallback, setBlogs, blogs}) => {\n  \n\n//   const handleLike = async () => {\n//     // try {\n//       const updatedContents = { author : blog.author, url : blog.url, user : blog.user.id, likes : blog.likes + 1 }\n//       const response = await blogService.updateBlog({id : blog.id, updatedContents})\n//       let blogList = blogs.map(b => b.id !== updatedContents.id ? b : updatedContents);\n//       setBlogs(blogList);\n//       if (response.error) {\n//         notificationCallback\n//         (\"response-error \" + response.error)\n//         setTimeout(() => {\n//           notificationCallback(null)\n//         }, 5000)\n//       } else {\n//         notificationCallback(`Liked ${blog.title} by ${blog.author}!` )\n//         setTimeout(() => {\n//           notificationCallback(null)\n//         }, 5000)\n//       }\n//     // } catch (exception) {\n//     //   notificationCallback(\"expetion: \" + exception.message )\n//     //   setTimeout(() => {\n//     //     notificationCallback(null)\n//     //   }, 5000)\n//     // }\n//     // window.location.reload();\n//   }\n\n\n//   const deleteBlog = async () => {\n//     if (window.confirm(`Remove blog ${blog.title} by ${blog.author}?`)) {\n//       const response = await blogService.deleteBlog({ id : blog.id })\n//       if (response.error) {\n//         notificationCallback(\"response-error \" + response.error)\n//       } else {\n//         notificationCallback(`Deleted ${blog.title}`)\n//       }\n//     }\n//   }\n\n//   return (\n//   <div>\n//     {blog.title} {blog.author} {blog.url} {blog.likes} <button onClick={handleLike}>Like</button> <button onClick={deleteBlog}>Delete</button>\n//   </div>  \n//   )\n// }\n\nexport default Blog"]},"metadata":{},"sourceType":"module"}